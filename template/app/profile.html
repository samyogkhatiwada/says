{% extends 'app/base.html' %}
{% block title %}Profile - Confess Website{% endblock title %}
{% block body %} 
{% include 'includes/navbar.html' %}
{% if messages %}
{% for message in messages %}
<div class="bg-green-100 rounded-lg py-5 px-6 mb-3 text-base text-green-700 inline-flex items-center w-full" role="alert">
  <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check-circle" class="w-4 h-4 mr-2 fill-current" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
    <path fill="currentColor" d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"></path>
  </svg>
  {{ message }}
</div>
{% endfor %}
{% endif %}
 <section class="text-gray-600 body-font">
    <div class="container px-5  mx-auto">
        
        
      <div class="flex lg:w-2/3 w-full sm:flex-row flex-col mx-auto px-8 sm:space-x-4 sm:space-y-0 space-y-4 sm:px-0 items-end">
        
        <div class="relative flex-grow w-full">
          <label for="full-name" class="leading-7 text-sm text-gray-600">Share your public link:</label>
          <input type="text" id="name" name="full-name" class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-indigo-500 focus:bg-transparent focus:ring-2 focus:ring-indigo-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out "value="says.pythonanywhere.com/{{request.user}}" readonly>
        </div>
          
        <button class="text-white bg-indigo-500  border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg" onclick="myFunction()">Copy</button>
      </div>
    </div>
  </section>
  
  <section class="text-gray-600 body-font overflow-hidden">
    <div class="container px-5 py-8 mx-auto">
      <h3 class="text-2xl text-gray-700 font-bold mb-6 -ml-3">Latest Messages</h3>

<ol class="border-l-2 border-indigo-600">
  {% if confessions %}
  {% for i in confessions %}
  <li>
    <div class="md:flex flex-start">
      <div class="bg-indigo-600 w-6 h-6 flex items-center justify-center rounded-full -ml-3">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" class="text-white w-3 h-3" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
          <path fill="currentColor" d="M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h288c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-64zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"></path>
        </svg>
      </div>
      <div class="block p-6 rounded-lg shadow-lg bg-gray-100 max-w-md ml-6 mb-10">
        <div class="flex justify-between mb-4">
          <a href="#!" class="font-medium text-indigo-600 hover:text-indigo-700 focus:text-indigo-800 duration-300 transition ease-in-out text-sm">Anonymous </a> |
          <a href="#!" class="font-medium text-indigo-600 hover:text-indigo-700 focus:text-indigo-800 duration-300 transition ease-in-out text-sm"> {{ i.date|date }}</a>
        </div>
        <p class="text-gray-700 mb-6">{{ i.confession }}</p>
        <button type="button" class="inline-block px-4 py-1.5 bg-indigo-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out" data-mdb-ripple="true">Share</button>
        <button type="button" class="inline-block px-3.5 py-1 border-2 border-purple-600 text-purple-600 font-medium text-xs leading-tight uppercase rounded hover:bg-black hover:bg-opacity-5 focus:outline-none focus:ring-0 transition duration-150 ease-in-out" data-mdb-ripple="true">Delete</button>
      </div>
    </div>
  </li>
  {% endfor %}
  {% else %}
  <li>
    
    <div class="mt-0.5 ml-4 mb-6">
      <h4 class="text-gray-800 font-semibold text-xl mb-1.5">No message till now</h4>
    </div>
  </li>
  {% endif %}
</ol>
    
     
     
    </div>
  </section>
  {% include 'includes/footer.html' %}
  <script>
    function myFunction() {
      // Get the text field
      var copyText = document.getElementById("name");
    
      // Select the text field
      copyText.select();
      copyText.setSelectionRange(0, 99999); // For mobile devices
    
       // Copy the text inside the text field
      navigator.clipboard.writeText(copyText.value);
    
      // Alert the copied text
      alert("Copied the text: " + copyText.value);
    }
  </script>
  {% endblock body %}